---
title: "Le projet R forces"
output: pdf_document
---

Meziane Cherif and Olivier Cailloux

Commission d’enquête de l’AN
la situation, les missions et les moyens des forces de sécurité
22 mai au 28 juin 2019
agents de la police nationale et des polices municipales, aux militaires de la gendarmerie nationale et aux réservistes

"les éléments des réponses permettant d’identifier le répondant (coordonnées ou risque de ré-identification) ainsi que les réponses comprenant des imputations personnelles ou des insultes ont été supprimés."

https://data.assemblee-nationale.fr/autres/consultations-citoyennes/moyens-des-forces-de-securite
```{r}
library(rlang)
input_url <- "https://data.assemblee-nationale.fr/static/openData/repository/CONSULTATIONS_CITOYENNES/MOYENS_DES_FORCES_DE_SECURITE/Moyens-des-forces-de-securite.csv" # nolint: line_length_linter.
md5_expected <- "261b4244cc2e9ffcd54ff9a6bec0a0ac"
if (file.exists("Réponses original.csv")) {
  md5_observed <- tools::md5sum("Réponses original.csv")
} else {
  md5_observed <- 0L
}
if(md5_observed != md5_expected) {
  downloaded_return <- download.file(input_url, "Réponses original.csv", mode = "wb")
  stopifnot(identical(downloaded_return, 0L))
}
md5_observed <- tools::md5sum("Réponses original.csv")
stopifnot(md5_observed == md5_expected)
input_original <- readLines("Réponses original.csv")
input_converted <- iconv(input_original, from = "WINDOWS-1252", to = "UTF8")
writeLines(input_converted, "Réponses.csv")

data <- read.csv("Moyens-des-forces-de-securite.csv")
```

13 735 contributions.
